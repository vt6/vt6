<!-- draft -->
# `vt6/term1.0` - Universal terminal capabilities and input/output handling

This document specifies version `1.0` of the VT6 module `term`.
Refer to this document using the identifier `vt6/term1.0` or its canonical URL <https://vt6.io/std/term/1.0/>.

**This is a non-normative draft.**

The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC 2119](https://tools.ietf.org/html/rfc2119).

The keyword "DEPENDS ON" in this document is to be interpreted as described in [section 4.2 of the `vt6/core1.0` specification](https://vt6.io/std/core/1.0/).
This document uses the predefined property types from [section 3.4 of the `vt6/core1.0` specification](https://vt6.io/std/core/1.0/).

## 1. Scope

This module defines how a terminal works, how clients' standard output is reflected on the terminal, and how user input is presented on clients' standard input.
Besides [`vt6/core`](https://vt6.io/std/core/), this is the only module that we expect to be available in **every** VT6 server implementation across the entire feature spectrum, from graphical terminal emulators all the way down to continuous stationery printers.

### 1.1. Terminals

TODO define what a terminal is (two-dimensional character array)

### 1.2. Standard output

TODO describe how characters on stdout change the display (printable chars are printed, control chars CR, NL, HT, BS work as such; implementation may recognize additional control chars/sequences e.g. for legacy compat)

### 1.3. Standard input

TODO describe how keypresses are reflected on stdin (canonical/raw mode, noecho property, ), how Ctrl-D is handled

## 2. Module dependencies

This module DEPENDS ON any version of the [`vt6/core` module](https://vt6.io/std/core/).

## 3. Properties for `vt6/term1`

### 3.1. The `term1.viewport-width` property

TODO unsigned integer (but not zero)

### 3.2. The `term1.viewport-height` property

TODO unsigned integer (zero means infinitely tall viewport, e.g. continous stationery)

### 3.3. The `term1.scrollback-height` property

TODO unsigned integer (zero means infinitely many scrollback, e.g. on GUI terminal emulator or continous stationery)

### 3.4. The `term1.input-raw` property

TODO disabled by default; when enabled, server MUST make all keyboard input available on stdin immediately instead of waiting for a full line

### 3.5. The `term1.input-echo` property

TODO enabled by default; when enabled, printable characters entered by the user are reflected on the terminal; when disabled, may only be re-enabled on the server connection where it was disabled; will be re-enabled automatically when the server connection disabling it is closed

### 3.6. The `term1.output-protected` property

TODO disabled by default; when enabled, server MUST disregard all unprintable characters and control characters (incl. \<ESC\>) except for CR/LF/HT on any standard input; may only be disabled on the server connection where it was enabled; will be disabled automatically when the server connection enabling it is closed (the purpose of this is to prevent exploits where carefully crafted shell scripts appear benign when printed with `cat(1)`, but contain malicious code which is hidden with backspace chars and VT100 control sequences)
